{% extends "linkage/base-doc.html" %}

{% block content %}

<div id="home">
<center>
<a href="#requirements">Requirements</a>
<a href="#install">Installation</a>
<a href="#layout">System Layout</a>
<a href="#server">Server</a>
</center>
</div>

<div id="requirements">
<b>System Requirements</b>&nbsp;<a href="#home">Top</a>
<p>
The command-line program and the GUI require python. It also runs the OS commands: 
<i>file, ldd, readelf</i>, so these should be present on your system.
The GUI requires <a href="http://www.djangoproject.com">Django</a>, along with sqlite 
support for the results database.
</p>

<div id="install">
<b>Installation</b>&nbsp;<a href="#home">Top</a>
<p>
The program is packaged as an rpm package, with dependencies on python-django. If your 
system does not provide django, or it's named differently, you may need to install using
--nodeps:

<pre>
rpm -Uvh dep-checker-0.0.2-1.noarch.rpm --nodeps
</pre>

The installation creates a "compliance" user/group and should create a desktop menu entry
to launch the server and open the GUI in your web browser.
</p>

<p>
In the future we may bundle django with the package to make things simpler, as well as 
provide .deb packaging.
</p>

<div id="layout">
<b>System Layout</b>&nbsp;<a href="#home">Top</a>
<p>
The application installs under the <i>/opt/linuxfoundation</i> namespace:

<ul>
<li><b>bin</b> - command line program and wrapper script to launch gui</li>
<li><b>compliance</b> - gui application tree and results database</li>
<li><b>doc</b> - License file</li>
<li><b>share</b> - Desktop menu files and icons</li>
</ul>

Under the compliance tree, is a typical django project layout:

<ul>
<li><b>compliance</b> - sqlite results database</b>
<li><b>__init__.py, manage.py, settings.py, urls.py</b> - generated by django at project 
    creation, <i>settings.py</i> does have some configurable settings. None of the others should 
    be altered.</li>
<li><b>linkage</b> - dep-checker GUI code</li>
<li><b>media</b> - static html elements such as images, css, javascript files</li>
<li><b>templates/linkage</b> - the dep-checker html tree</li>
</ul>

<div id="server">
<b>Running the GUI server</b>&nbsp;<a href="#home">Top</a>
<p>
To run the gui/server (as user compliance for installed package), there is a shell
script that su's to the compliance user, starts the server and attempts to open a browser
page to the GUI:

<pre>
/opt/linuxfoundation/bin/dep-checker.sh
</pre>

There is no facility at this time to stop the server.
</p>
<p>
If for some reason this does not work, you can manually perform the steps to start the
 server:

<pre>
su - compliance
cd /opt/linuxfoundation/compliance
python manage.py runserver
</pre>

You can terminate the server from this console by hitting ctrl-C
</p>

{% endblock %}
